"use strict";(self["webpackChunkschat"]=self["webpackChunkschat"]||[]).push([[583],{1583:(e,t,o)=>{o.r(t),o.d(t,{default:()=>z});var l=o(3673),a=o(2942);const n=(0,l.Uk)(" Secured chat service "),i={key:0,class:"text-accent",style:{display:"inline"}},u=(0,l._)("div",null,null,-1),d=(0,l.Uk)("Menu"),r=(0,l._)("span",{class:"q-ml-sm"},"Please input UUID of room you want to join.",-1),c=(0,l._)("br",null,null,-1);function s(e,t,o,s,m,g){const p=(0,l.up)("q-btn"),w=(0,l.up)("q-toolbar-title"),k=(0,l.up)("q-toolbar"),f=(0,l.up)("q-header"),_=(0,l.up)("q-item-label"),q=(0,l.up)("left-menu-item"),h=(0,l.up)("q-list"),y=(0,l.up)("q-drawer"),b=(0,l.up)("q-input"),L=(0,l.up)("q-card-section"),I=(0,l.up)("q-card-actions"),Z=(0,l.up)("q-card"),Q=(0,l.up)("q-dialog"),W=(0,l.up)("router-view"),j=(0,l.up)("q-page-container"),C=(0,l.up)("q-layout"),v=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(C,{view:"lHh Lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{elevated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:t[0]||(t[0]=t=>e.drawerLeft=!e.drawerLeft)}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[n,e.getwindowText.length>0?((0,l.wg)(),(0,l.iD)("div",i,"| "+(0,a.zw)(e.getwindowText),1)):(0,l.kq)("",!0)])),_:1}),u])),_:1})])),_:1}),(0,l.Wm)(y,{"show-if-above":"",bordered:"",class:"bg-dark",modelValue:e.drawerLeft,"onUpdate:modelValue":t[1]||(t[1]=t=>e.drawerLeft=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{header:""},{default:(0,l.w5)((()=>[d])),_:1}),e.getIsLoggedIn?((0,l.wg)(),(0,l.j4)(q,{key:0,title:"Logout",caption:" Logout [ "+e.getNickname+" ]",icon:"logout",link:"#/logout"},null,8,["caption"])):((0,l.wg)(),(0,l.j4)(q,{key:1,title:"Login",caption:"Login to chat server",icon:"login",link:"#/login"})),e.getIsLoggedIn?((0,l.wg)(),(0,l.j4)(q,{key:2,title:"Create room",caption:"Create a new room",icon:"add_comment",link:"#/new"})):(0,l.kq)("",!0),e.getIsLoggedIn&&1===e.getRole?((0,l.wg)(),(0,l.j4)(q,{key:3,title:"Room list",caption:"Show all rooms",icon:"comment",link:"#/rooms"})):(0,l.kq)("",!0),e.getIsLoggedIn&&1===e.getRole?((0,l.wg)(),(0,l.j4)(q,{key:4,title:"User list",caption:"List of all users",icon:"group",link:"#/users"})):(0,l.kq)("",!0),e.getIsLoggedIn?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:5},(0,l.Ko)(e.getRooms,((t,o)=>((0,l.wg)(),(0,l.j4)(q,{key:"room.uuid",title:"Room #"+(o+1),unread:e.getChat["c_"+t.uuid].length-e.getMessagesRead["c_"+t.uuid],caption:t.title,icon:"question_answer",link:"#/room/"+t.uuid},null,8,["title","unread","caption","link"])))),128)):(0,l.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(j,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{modelValue:e.joinRoomDialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.joinRoomDialog=t),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{dark:""},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{class:"items-center"},{default:(0,l.w5)((()=>[r,c,(0,l.Wm)(b,{dark:"",label:"Room ID",modelValue:e.room_id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.room_id=t),maxlength:"25"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(I,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(p,{flat:"",dark:"",label:"Cancel"},null,512),[[v]]),(0,l.wy)((0,l.Wm)(p,{flat:"",dark:"",label:"Join",onClick:g.join_to_room},null,8,["onClick"]),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(W)])),_:1})])),_:1})}function m(e,t,o,n,i,u){const d=(0,l.up)("q-icon"),r=(0,l.up)("q-item-section"),c=(0,l.up)("q-badge"),s=(0,l.up)("q-item-label"),m=(0,l.up)("q-item");return(0,l.wg)(),(0,l.j4)(m,{dark:"",clickable:"",tag:"a",href:e.link,onClick:t[0]||(t[0]=t=>e.$emit("click"))},{default:(0,l.w5)((()=>[e.icon?((0,l.wg)(),(0,l.j4)(r,{key:0,avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{name:e.icon,class:"text-green"},null,8,["name"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"text-accent"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.title)+" ",1),e.unread?((0,l.wg)(),(0,l.j4)(c,{key:0,color:"yellow unread","text-color":"black"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.unread),1)])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(s,{caption:"",class:"text-green"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["href"])}const g=(0,l.aZ)({name:"LeftMenuItem",props:{title:{type:String,required:!0},unread:{type:Number,required:!1},caption:{type:String,default:""},link:{type:String,default:null},icon:{type:String,default:""}}});var p=o(3414),w=o(2035),k=o(4554),f=o(2350),_=o(9721),q=o(7518),h=o.n(q);g.render=m,g.__scopeId="data-v-3363886c";const y=g;h()(g,"components",{QItem:p.Z,QItemSection:w.Z,QIcon:k.Z,QItemLabel:f.Z,QBadge:_.Z});var b=o(3617),L=o(4854);const I={name:"MainLayout",components:{LeftMenuItem:y},data:()=>({joinRoomDialog:!1,room_id:"",drawerLeft:!0}),methods:{show_joint_dialog(){this.joinRoomDialog=!0},join_to_room(){const e=(0,L.h)();e.callMethodAsync("joinRoom",{uuid:this.uuid}).then((e=>{})).catch((e=>{console.log(e.data)}))}},computed:{...(0,b.Se)("global",["getIsLoggedIn","getRooms","getNickname","getwindowText","getChat","getMessagesRead","getRole"])}};var Z=o(3066),Q=o(3812),W=o(9570),j=o(8240),C=o(3747),v=o(2428),R=o(7011),U=o(2652),D=o(6778),x=o(151),S=o(5589),V=o(4842),M=o(9367),T=o(677);I.render=s;const z=I;h()(I,"components",{QLayout:Z.Z,QHeader:Q.Z,QToolbar:W.Z,QBtn:j.Z,QToolbarTitle:C.Z,QDrawer:v.Z,QList:R.Z,QItemLabel:f.Z,QPageContainer:U.Z,QDialog:D.Z,QCard:x.Z,QCardSection:S.Z,QInput:V.Z,QCardActions:M.Z}),h()(I,"directives",{ClosePopup:T.Z})}}]);